<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <th:block th:replace="layout :: link-md-boostrap-css"></th:block>
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
<th:block th:replace="home :: header-nav-bar"></th:block>
<div class="container col-8 py-5">
    <form th:action="@{/facility/save}" th:object="${serviceDto}"
          method="POST" class="form-control">
        <h1 class="text-center" style="font-family: 'Quicksand', serif">Create New Facility</h1>
        <div class="row mx-auto mb-4 mt-4">
            <input type="hidden" th:field="*{id}"/>
            <div class="row mb-4">
                <div class="col">
                    <div class="form-outline">
                        <input type="text" id="formControlDefault" class="form-control" th:field="*{name}"/>
                        <label class="form-label" for="formControlDefault">name</label>
                    </div>
                    <span class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>
                </div>
                <div class="col">
                    <div class="form-outline">
                        <input type="text" id="area" class="form-control" th:field="*{area}"/>
                        <label class="form-label" for="formControlDefault">area</label>
                    </div>
                    <span class="text-danger" th:if="${#fields.hasErrors('area')}" th:errors="*{area}"></span>
                </div>
            </div>
            <div class="row mb-4">
                <div class="col">
                    <div class="form-outline">
                        <input type="text" id="cost" class="form-control" th:field="*{cost}"/>
                        <label class="form-label" for="formControlDefault">cost</label>
                    </div>
                    <span class="text-danger" th:if="${#fields.hasErrors('cost')}" th:errors="*{cost}"></span>
                </div>
                <div class="col">
                    <div class="form-outline">
                        <input type="text" id="serviceCode" class="form-control" th:field="*{serviceCode}"/>
                        <label class="form-label" for="formControlDefault">serviceCode</label>
                    </div>
                    <span class="text-danger" th:if="${#fields.hasErrors('serviceCode')}"
                          th:errors="*{serviceCode}"></span>

                </div>
            </div>
            <div class="row mb-4">
                <div class="col">
                    <div class="form-outline">
                        <input type="text" id="standardRoom" class="form-control" th:field="*{standardRoom}"/>
                        <label class="form-label" for="formControlDefault">standardRoom</label>
                    </div>
                    <span class="text-danger" th:if="${#fields.hasErrors('standardRoom')}"
                          th:errors="*{standardRoom}"></span>
                </div>
                <div class="col">
                    <div class="form-outline">
                        <input type="text" id="otherConvenience" class="form-control"
                               th:field="*{otherConvenience}"/>
                        <label class="form-label" for="formControlDefault">otherConvenience</label>
                    </div>
                    <span class="text-danger" th:if="${#fields.hasErrors('otherConvenience')}"
                          th:errors="*{otherConvenience}"></span>
                </div>
            </div>
            <div class="row mb-4">
                <div class="col">
                    <select th:field="*{rentType}" class="form-select" id="rentType">
                        <option value="">--rent type--</option>
                        <option th:each="item :${rentType}"
                                th:value="${item.id}"
                                th:text="${item.rentTypeName}">
                        </option>
                    </select>
                    <span class="text-danger" th:if="${#fields.hasErrors('rentType')}"
                          th:errors="*{rentType}"></span>
                </div>
                <div class="col">
                    <select th:field="*{serviceType}" class="form-select" id="mySelect">
                        <option value="">--service type--</option>
                        <option th:each="item :${serviceType}"
                                th:value="${item.id}"
                                th:text="${item.name}">
                        </option>
                    </select>
                    <span class="text-danger" th:if="${#fields.hasErrors('serviceType')}"
                          th:errors="*{serviceType}"></span>
                </div>
                <div class="col">
                    <div class="form-outline">
                        <input type="text" id="poolArea" class="form-control" th:field="*{poolArea}"/>
                        <label class="form-label" for="formControlDefault" id="swimPool">poolArea</label>
                    </div>
                    <span class="text-danger" th:if="${#fields.hasErrors('poolArea')}" th:errors="*{poolArea}"></span>
                </div>
                <div class="col">
                    <div class="form-outline">
                        <input type="number" id="numOfFloor" class="form-control" th:field="*{numOfFloor}"/>
                        <label class="form-label" for="formControlDefault" id="floor">numOfFloor</label>
                    </div>
                    <span class="text-danger" th:if="${#fields.hasErrors('numOfFloor')}" th:errors="*{numOfFloor}"></span>
                </div>
                <div class="col">
                    <div class="form-outline">
                        <input type="number" id="maxPeople" class="form-control" th:field="*{maxPeople}"/>
                        <label class="form-label" for="formControlDefault">maxPeople</label>
                    </div>
                    <span class="text-danger" th:if="${#fields.hasErrors('maxPeople')}" th:errors="*{maxPeople}"></span>
                </div>

            </div>
            <button type="submit" class="btn btn-primary btn-block">Save</button>
        </div>
    </form>
</div>
<th:block th:replace="home :: footer-body"></th:block>
<th:block th:replace="layout :: link-md-boostrap-js"></th:block>
</body>
</html>
<script>
    $(document).ready(function(){
        $("#mySelect").change(function() {
            if(this.value == 3) {
                $('#numOfFloor').val('0');
                $('#poolArea').val('0');
                $('#numOfFloor').hide(1000);
                $('#poolArea').hide(1000);
                $('#floor').hide(1000);
                $('#poolArea').hide(1000);
                $('#swimPool').hide(1000);
            } else if(this.value == 2) {
                $('#numOfFloor').val('');
                $('#poolArea').val('0');
                $('#numOfFloor').show(1000);
                $('#floor').show(1000);
                $('#poolArea').hide(1000);
                $('#swimPool').hide(1000);
            } else if(this.value == 1){
                $('#numOfFloor').val('');
                $('#poolArea').val('');
                $('#floor').show(1000);
                $('#numOfFloor').show(1000);
                $('#poolArea').show(1000);
                $('#swimPool').show(1000);
            }
        });
    });
</script>